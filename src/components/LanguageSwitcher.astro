---
import { getAlternateUrl, type Lang } from "@/utils/i18n";
import IconGlobe from "@/assets/icons/IconGlobe.svg";

interface Props {
  lang: Lang;
  currentPath?: string;
}

const { lang, currentPath = "/" } = Astro.props;
const alternateUrl = getAlternateUrl(currentPath, lang);
const isKorean = lang === "ko";
const targetLang = isKorean ? "EN" : "KO";
const ariaLabel = isKorean ? "Switch to English" : "한국어로 전환";
---

<a
  href={alternateUrl}
  class="focus-outline flex p-3 sm:p-1 items-center justify-center"
  title={ariaLabel}
  aria-label={ariaLabel}
>
  <IconGlobe />
  <span class="sr-only">{targetLang}</span>
</a>
